def zigzagLevelOrder(root):
    if not root: return []
    res=[]; q=[root]; rev=False
    while q:
        level=[]
        for _ in range(len(q)):
            n=q.pop(0)
            level.append(n.val)
            if n.left: q.append(n.left)
            if n.right: q.append(n.right)
        res.append(level[::-1] if rev else level)
        rev=not rev
    return res
